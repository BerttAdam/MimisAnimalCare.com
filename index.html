<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mimi‚Äôs Animal Care ‚Ä¢ Walking, Pet Sitting, Potty Breaks & Adventure Days</title>
<meta name="description" content="Friendly, reliable pet care by Mimi: dog walking, potty breaks, in-home sitting, 3-hour adventures, and cat/small animal care. Serving Genesee, Lapeer, Saginaw ‚Äî travel available." />

<style>
/* ===== Theme / Reset ===== */
:root{
  --purple:#7c3aed; --purple-dark:#5b21b6;
  --lav:#f5f3ff; --ink:#0f172a; --muted:#475569; --ring:#e6e6f0;
  --radius:16px; --container:1100px;
}
*{box-sizing:border-box} html,body{margin:0;padding:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;color:var(--ink);background:#fff;line-height:1.55}
h1,h2,h3{margin:0 0 .35rem 0;font-weight:800;color:var(--ink)} p{margin:.25rem 0 1rem}
a{color:var(--purple);text-decoration:none} a:hover{text-decoration:underline}
img{max-width:100%;height:auto;display:block}

/* ===== Layout ===== */
.section{padding:3rem 1rem} .container{max-width:var(--container);margin:0 auto}
.alt{background:var(--lav)} .h1{font-size:clamp(1.8rem,4vw,2.8rem);font-weight:900}
.h2{font-size:clamp(1.6rem,3vw,2.2rem);font-weight:900;color:var(--purple)}
.lead{color:var(--muted);font-size:1.05rem} .small{color:var(--muted);font-size:.95rem}
.muted{color:var(--muted)} .fineprint{font-size:.92rem;color:var(--muted)} .accent{color:var(--purple)}

/* ===== Topbar / Header ===== */
.topbar{background:#111827;color:#fff;font-size:.9rem}
.topbar .container{display:flex;gap:1rem;justify-content:space-between;padding:.6rem 1rem}
header{position:sticky;top:0;z-index:50;backdrop-filter:blur(6px);background:#ffffffd9;border-bottom:1px solid #e5e7eb}
.nav{display:none;gap:1rem;font-size:.95rem}.brand{display:flex;align-items:center;gap:.6rem;color:inherit}
.icon-btn{border:1px solid #cbd5e1;padding:.45rem .6rem;border-radius:12px;background:#fff;display:inline-flex;align-items:center;gap:.25rem}
@media(min-width:768px){.nav{display:flex}}
.mobile{display:none;padding:0 1rem 1rem}.mobile a{display:block;padding:.65rem .75rem;border-radius:10px}
.mobile a:hover{background:#f3e8ff}

/* ===== Hero ===== */
.hero{background:linear-gradient(135deg,#faf5ff,#ffffff 35%,#fdf4ff)}
.hero-grid{display:grid;gap:1.25rem}@media(min-width:900px){.hero-grid{grid-template-columns:1fr 1fr;align-items:center}}
.hero-img{width:100%;height:220px;object-fit:cover;border-radius:24px;box-shadow:0 18px 40px rgba(0,0,0,.08);border:1px solid #e2e8f0}
@media(min-width:768px){.hero-img{height:320px}}

/* ===== Buttons ===== */
.btn{display:inline-flex;align-items:center;justify-content:center;padding:.9rem 1.1rem;border-radius:12px;font-weight:700;border:0;cursor:pointer}
.btn-primary{background:var(--purple);color:#fff}.btn-primary:hover{background:var(--purple-dark)}
.btn-secondary{background:#fff;color:var(--purple);border:2px solid var(--purple)}.btn-secondary:hover{background:#ede9fe}

/* ===== Services / Cards ===== */
.grid-cards{display:grid;grid-template-columns:1fr;gap:14px}
@media(min-width:640px){.grid-cards{grid-template-columns:repeat(2,1fr)}}
@media(min-width:960px){.grid-cards{grid-template-columns:repeat(3,1fr)}}
.card,.service-card{background:#fff;border:1px solid var(--ring);border-radius:var(--radius);padding:18px}
.service-card{cursor:pointer;transition:transform .15s ease, background-color .15s ease}
.service-card:hover{background:var(--lav);transform:translateY(-2px)}
.badge{display:inline-block;font-size:.7rem;text-transform:uppercase;letter-spacing:.04em;background:#ede9fe;color:var(--purple);padding:.25rem .5rem;border-radius:999px;margin-bottom:.5rem}
.featured{outline:2px solid #e9d5ff;box-shadow:0 12px 28px rgba(92,43,180,.10)}
.sub{color:var(--muted);margin:.25rem 0 .5rem}.price{font-size:2rem;font-weight:900;color:var(--ink)}
ul.bullets{margin:.75rem 0 0;padding-left:1.1rem;color:var(--muted)}ul.bullets li{margin:.25rem 0}
.tiny{font-size:.85rem;color:var(--muted);margin-top:.2rem}
.pricing{background:var(--lav)}

/* ===== About (fixed width / never overflows) ===== */
.about-wrap{display:grid;gap:1.25rem;align-items:center}
.about-text{max-width:800px;margin:0 auto;padding:0 0;line-height:1.7;word-wrap:break-word}
.about-text p{margin-bottom:1rem}

/* ===== FAQ ===== */
.faq{border:1px solid var(--ring);border-radius:12px;padding:14px;background:#fff}
.faq summary{font-weight:700;cursor:pointer}.faq p{color:var(--muted);margin-top:.45rem}

/* ===== Form ===== */
.form{background:#fff;border:1px solid var(--ring);border-radius:var(--radius);padding:18px;box-shadow:0 12px 32px rgba(17,24,39,.06)}
.field{display:flex;flex-direction:column;gap:.4rem}
.field span{font-size:.9rem;color:#334155}
.field input,.field select,.field textarea{width:100%;border:1px solid #cbd5e1;border-radius:12px;padding:.8rem .9rem;outline:none;font:inherit}
.field input:focus,.field select:focus,.field textarea:focus{border-color:#c4b5fd;box-shadow:0 0 0 3px #ede9fe}

/* ===== Footer ===== */
footer{background:var(--purple);color:#fff;padding:2rem 1rem;margin-top:2rem}
footer a{color:#fff} footer a:hover{text-decoration:underline}

/* ===== Booking Modal / Calendar ===== */
.modal-backdrop{position:fixed;inset:0;background:rgba(15,23,42,.55);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;padding:1rem}
.modal{background:#fff;border-radius:18px;max-width:960px;width:100%;border:1px solid var(--ring)}
.modal header{position:relative;background:var(--lav);border-bottom:1px solid var(--ring)}
.modal header h3{color:var(--purple);padding:1rem 1.25rem}
.modal .body{padding:1rem 1.25rem}
.modal .close{position:absolute;right:.75rem;top:.75rem;border:1px solid #cbd5e1;background:#fff;border-radius:10px;padding:.35rem .5rem;cursor:pointer}
.modal .grid{display:grid;gap:12px}
@media(min-width:860px){.modal .grid{grid-template-columns: 1.2fr .8fr}}
.calendar{border:1px solid var(--ring);border-radius:14px;overflow:hidden}
.cal-head{display:flex;align-items:center;justify-content:space-between;padding:.6rem .8rem;background:#fafafa;border-bottom:1px solid var(--ring)}
.cal-title{font-weight:800}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:0;border-top:1px solid var(--ring)}
.cal-day, .cal-cell{padding:.55rem .35rem;text-align:center;border-right:1px solid #f1f5f9;border-bottom:1px solid #f1f5f9;font-size:.9rem}
.cal-day{background:#f8fafc;font-weight:700}
.cal-cell{min-height:46px;cursor:pointer}
.cal-cell.muted{color:#94a3b8}
.cal-cell.selected{background:#ede9fe}
.cal-cell.booked{background:#e2e8f0;color:#64748b;cursor:not-allowed}
.cal-legend{display:flex;gap:8px;align-items:center;font-size:.85rem;color:#64748b;margin-top:.5rem}
.legend-swatch{width:12px;height:12px;border-radius:3px;border:1px solid #cbd5e1}
.swatch-free{background:#fff}.swatch-selected{background:#ede9fe}.swatch-booked{background:#e2e8f0}

/* time picker */
.time-box{border:1px solid var(--ring);border-radius:14px;padding:.75rem}
.time-row{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-top:.5rem}
.time-slot{padding:.5rem .4rem;border:1px solid #e5e7eb;border-radius:10px;cursor:pointer;font-size:.9rem}
.time-slot.unavailable{opacity:.4;cursor:not-allowed;background:#f8fafc}
.time-slot.selected{outline:2px solid #c4b5fd;background:#ede9fe}
.inline{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.divider{height:1px;background:#eef2f7;margin:.8rem 0}
.note{font-size:.82rem;color:#64748b}

/* actions */
.actions{display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.8rem}
.btn-ghost{border:1px solid #cbd5e1;background:#fff;color:#111827}
</style>
</head>

<body>
  <!-- Top bar -->
  <div class="topbar">
    <div class="container">
      <p>Friendly ‚Ä¢ Insured ‚Ä¢ Free meet &amp; greet</p>
      <a class="link-underline" href="tel:+18104497159">Call/Text: (810) 449-7159</a>
    </div>
  </div>

  <!-- Header -->
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:.9rem 0;">
      <a class="brand" href="#">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor" style="color:var(--purple)"><path d="M10 6.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0m9 0a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0M14 4a2 2 0 1 1-4 0a2 2 0 0 1 4 0M7.5 12.5c0-2.2 2.6-4 5.5-4s5.5 1.8 5.5 4c0 1.9-2 4.5-5.5 7c-3.5-2.5-5.5-5.1-5.5-7Z"/></svg>
        <strong>Mimi‚Äôs Animal Care</strong>
      </a>

      <nav class="nav">
        <a href="#services">Services</a>
        <a href="#pricing">Pricing</a>
        <a href="#about">About</a>
        <a href="#reviews">Reviews</a>
        <a href="#faq">FAQ</a>
        <a href="#contact">Contact</a>
      </nav>

      <button id="menuBtn" class="icon-btn" aria-label="Open menu" aria-expanded="false">
        <svg id="hamb" xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        <svg id="close" xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>

    <div id="mobileMenu" class="mobile">
      <div class="container">
        <a href="#services">Services</a>
        <a href="#pricing">Pricing</a>
        <a href="#about">About</a>
        <a href="#reviews">Reviews</a>
        <a href="#faq">FAQ</a>
        <a href="#contact" class="btn btn-primary" style="width:100%;margin-top:.4rem">Book Meet &amp; Greet</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="section hero">
    <div class="container hero-grid">
      <div>
        <img class="hero-img" src="Pictures/mimi.jpg" alt="Happy dog on a walk">
      </div>
      <div>
        <h1 class="h1">Bubbly, loving <span class="accent">pet care</span> that feels like family</h1>
        <p class="lead">Walks, potty breaks, in-home sitting, 3-hour adventures, and more‚Äîtailored to your pet.</p>
        <div style="display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.6rem">
          <a class="btn btn-primary" href="#pricing">See Pricing</a>
          <a class="btn btn-secondary" href="#contact">Request Availability</a>
        </div>
        <p class="small" style="margin-top:.8rem"><strong>Serving:</strong> Genesee ‚Ä¢ Lapeer ‚Ä¢ Saginaw ‚Äî and farther with advance notice.</p>
      </div>
    </div>
  </section>

  <!-- Services (clickable) -->
  <section id="services" class="section">
    <div class="container">
      <h2 class="h2">Services</h2>
      <p class="muted">Tap any service to pick dates &amp; times.</p>

      <div class="grid-cards">
        <article class="service-card" data-service="Dog Walking" data-default-hours="1"><h3>Dog Walking</h3><p>30/45/60-minute walks with photo updates (leash manners encouraged!).</p></article>
        <article class="service-card" data-service="In-Home Pet Sitting" data-default-hours="12"><h3>In-Home Pet Sitting</h3><p>Keep routines cozy at home ‚Äî overnights available.</p></article>
        <article class="service-card" data-service="Potty Break" data-default-hours="0.25"><h3>Potty Breaks</h3><p>Quick relief visits with water refresh, notes, and a cuddle.</p></article>
        <article class="service-card" data-service="3-Hour Adventure Day" data-default-hours="3"><h3>3-Hour Adventure Day</h3><p>Park time, enrichment games, and a scenic stroll ‚Äî pure joy!</p></article>
        <article class="service-card" data-service="Cats & Small Animals" data-default-hours="0.5"><h3>Cats &amp; Small Animals</h3><p>Play, litter refresh, meds, and gentle company for shy friends.</p></article>
        <article class="service-card" data-service="Custom Care" data-default-hours="1"><h3>Custom Care ‚Äî Just Ask!</h3><p>Pets with special medical needs welcome. If it‚Äôs not listed, ask!</p></article>
      </div>

      <p class="fineprint" style="margin-top:.8rem">A 1-hour buffer is automatically added before and after hourly services to allow for drive time.</p>
    </div>
  </section>

  <!-- Pricing -->
  <section id="pricing" class="section pricing">
    <div class="container">
      <h2 class="h2">Pricing</h2>
      <p class="muted">Simple, transparent rates. Holiday &amp; weekend adjustments shown below.</p>

      <div class="grid-cards">
        <article class="card"><h3>Potty Break</h3><p class="sub">15 minutes</p><p class="price">$15</p><ul class="bullets"><li>Quick relief &amp; water</li><li>Photo update</li></ul></article>
        <article class="card featured"><p class="badge">Most booked</p><h3>Walk / Drop-in</h3><p class="sub">30 minutes</p><p class="price">$20</p><ul class="bullets"><li>Feeding/meds on request</li><li>Notes &amp; pics</li></ul></article>
        <article class="card"><h3>Walk / Drop-in</h3><p class="sub">60 minutes</p><p class="price">$30</p><ul class="bullets"><li>Enrichment &amp; playtime</li><li>Great for high-energy pets</li></ul></article>
        <article class="card"><h3>Cats &amp; Small Animals</h3><p class="sub">30 minutes</p><p class="price">$20</p><ul class="bullets"><li>Litter/habitat refresh</li><li>Gentle company</li></ul></article>
        <article class="card"><h3>Overnight Sitting</h3><p class="sub">In-home ‚Ä¢ 10‚Äì12 hrs</p><p class="price">$40</p><p class="tiny">Fri‚ÄìSun $85 ‚Ä¢ Holidays $95</p><ul class="bullets"><li>Evening &amp; morning walk</li><li>Regular updates</li></ul></article>
        <article class="card"><h3>Adventure Outing</h3><p class="sub">3 hours</p><p class="price">from $60</p><ul class="bullets"><li>Park + enrichment games</li><li>Post-adventure recap</li></ul></article>
      </div>
    </div>
  </section>

  <!-- About (fixed) -->
  <section id="about" class="section">
    <div class="container about-wrap">
      <div class="about-text">
        <h2 class="h2">About Mimi‚Äôs Animal Care</h2>
        <p>Hi there, I‚Äôm Miriam ‚Äî but my furry, feathered, and scaly friends just call me <em>Mimi</em>! üêæüíú For over 10 years, I‚Äôve been caring for animals of all kinds ‚Äî from bouncy puppies and cuddly cats to pets with special medical needs. Animals have always been my passion, and I treat every single one like part of my own family.</p>
        <p>Whether it‚Äôs a quick potty break, a long walk, a cozy overnight stay, or an epic 3-hour adventure, I‚Äôm here to make tails wag, whiskers twitch, and feathers flutter. Every pet deserves love, patience, and plenty of playtime ‚Äî and I make sure they get exactly that.</p>
        <p><strong>Got a special request?</strong> Need help with something not listed? Just ask! I happily customize care to fit your pet‚Äôs personality and needs. I serve Genesee, Lapeer, and Saginaw ‚Äî and I‚Äôll travel farther with a little notice.</p>
      </div>
      <div>
        <img class="hero-img" src="Pictures/about-hero.jpg" alt="Mimi with a happy dog">
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <section id="reviews" class="section alt">
    <div class="container">
      <h2 class="h2">Happy Clients</h2>
      <div class="grid-cards">
        <figure class="card"><blockquote>‚ÄúMimi is amazing! Daily photos and our anxious pup warmed up immediately.‚Äù</blockquote><figcaption class="tiny">‚Äî Alex R.</figcaption></figure>
        <figure class="card"><blockquote>‚ÄúReliable, kind, and professional. Our cats were relaxed when we got home.‚Äù</blockquote><figcaption class="tiny">‚Äî Priya M.</figcaption></figure>
        <figure class="card"><blockquote>‚ÄúThe walk notes and pics are the best. Five stars.‚Äù</blockquote><figcaption class="tiny">‚Äî Jordan K.</figcaption></figure>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section">
    <div class="container">
      <h2 class="h2">FAQ</h2>
      <div class="grid-cards" style="grid-template-columns:1fr; gap:14px">
        <details class="faq"><summary>Are you insured and background checked?</summary><p>Yes‚Äîyour pet and home are protected. Documentation available upon request.</p></details>
        <details class="faq"><summary>How do meet &amp; greets work?</summary><p>We‚Äôll visit your home to learn routines, meet your pets, and confirm services. It‚Äôs free.</p></details>
        <details class="faq"><summary>Do you administer medications?</summary><p>Yes‚Äîpills, drops, and some injections with prior instructions.</p></details>
        <details class="faq"><summary>What‚Äôs your service area?</summary><p>Genesee, Lapeer, and Saginaw counties ‚Äî and I can travel farther after we discuss pricing.</p></details>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section" style="background:#0f172a;color:#fff">
    <div class="container" style="display:grid; gap:1.25rem; align-items:start">
      <div>
        <h2 class="h2" style="color:#fff">Book a Meet &amp; Greet</h2>
        <p class="muted" style="color:#cbd5e1">Tell me about your pets and preferred dates. I‚Äôll reply within a business day.</p>
        <p class="small" style="color:#cbd5e1">Prefer to call? <a class="link-underline" style="color:#fff" href="tel:+18104497159">(810) 449-7159</a></p>
        <p class="small" style="color:#cbd5e1">Email: <a class="link-underline" style="color:#fff" href="mailto:hello@example.com">hello@example.com</a></p>
      </div>

      <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="form">
        <input type="hidden" name="form-name" value="contact" />
        <p class="hidden" aria-hidden="true"><label>Don‚Äôt fill this out if you‚Äôre human: <input name="bot-field" /></label></p>

        <div class="field"><span>Name</span><input name="name" required /></div>
        <div class="field"><span>Phone</span><input name="phone" required /></div>
        <div class="field"><span>Email</span><input type="email" name="email" /></div>
        <div class="field">
          <span>What service's are you interested in?</span>
          <select name="service">
            <option>Dog Walking</option>
            <option>In-Home Sitting</option>
            <option>Potty Break</option>
            <option>3-Hour Adventure Day</option>
            <option>Cat/Small Animal Care</option>
            <option>Other / Custom</option>
          </select>
        </div>
        <div class="field"><span>Details</span><textarea name="message" rows="5" placeholder="Tell me about your pet‚Äôs routine, dates, special needs, and location..."></textarea></div>

        <button class="btn btn-primary" style="width:100%; margin-top:.3rem">Send Request</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container" style="display:grid; gap:1rem; align-items:start; grid-template-columns:1fr; }
      @media(min-width:900px){ grid-template-columns: repeat(3,1fr); }">
      <div style="display:flex; align-items:center; gap:.5rem">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0m9 0a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0M14 4a2 2 0 1 1-4 0a2 2 0 0 1 4 0M7.5 12.5c0-2.2 2.6-4 5.5-4s5.5 1.8 5.5 4c0 1.9-2 4.5-5.5 7c-3.5-2.5-5.5-5.1-5.5-7Z"/></svg>
        <strong>Mimi‚Äôs Animal Care</strong>
      </div>
      <div>
        <p><a href="#services">Services</a></p>
        <p><a href="#pricing">Pricing</a></p>
        <p><a href="#reviews">Reviews</a></p>
      </div>
      <div class="small">
        <p>&copy; <span id="year"></span> Mimi‚Äôs Animal Care. All rights reserved.</p>
        <p>Genesee ‚Ä¢ Lapeer ‚Ä¢ Saginaw ‚Ä¢ (810) 449-7159</p>
      </div>
    </div>
  </footer>

<!-- ===== Booking Modal ===== -->
<div id="bookingModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal">
    <header>
      <h3 id="modalTitle">Book Service</h3>
      <button class="close" id="closeModal" aria-label="Close">‚úï</button>
    </header>
    <div class="body">
      <div class="grid">
        <!-- Calendar -->
        <div>
          <div class="calendar">
            <div class="cal-head">
              <button class="btn btn-ghost" id="prevMonth" aria-label="Previous month">‚Äπ</button>
              <div class="cal-title" id="monthLabel">Month YYYY</div>
              <button class="btn btn-ghost" id="nextMonth" aria-label="Next month">‚Ä∫</button>
            </div>
            <div class="cal-grid" id="calGrid"></div>
          </div>
          <div class="cal-legend">
            <span class="legend-swatch swatch-free"></span> Free
            <span class="legend-swatch swatch-selected"></span> Selected
            <span class="legend-swatch swatch-booked"></span> Busy/Blocked
          </div>
        </div>

        <!-- Options -->
        <div>
          <div class="time-box">
            <div class="inline">
              <label class="field" style="flex:1">
                <span>Service</span>
                <select id="svcSelect">
                  <option>Dog Walking</option>
                  <option>In-Home Pet Sitting</option>
                  <option>Potty Break</option>
                  <option>3-Hour Adventure Day</option>
                  <option>Cats & Small Animals</option>
                  <option>Custom Care</option>
                </select>
              </label>
              <label class="field" style="width:110px">
                <span>Hours</span>
                <input id="hoursInput" type="number" step="0.25" min="0.25" value="1">
              </label>
            </div>

            <div class="divider"></div>

            <label class="field">
              <span>Pick a start time</span>
              <div id="timeRow" class="time-row"></div>
            </label>

            <p class="note">We automatically add a 1-hour travel buffer <em>before and after</em> each booking to keep things realistic.</p>

            <div class="actions">
              <button class="btn btn-secondary" id="clearSelection">Clear</button>
              <button class="btn btn-primary" id="saveBooking" disabled>Add to Calendar</button>
            </div>
          </div>

          <p class="note" style="margin-top:.6rem">Selected day: <strong id="selectedDayLabel">None</strong></p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Year in footer
  document.getElementById('year').textContent = new Date().getFullYear();

  // Mobile menu toggle
  const btn = document.getElementById('menuBtn');
  const menu = document.getElementById('mobileMenu');
  const hamb = document.getElementById('hamb');
  const closeI = document.getElementById('close');
  btn?.addEventListener('click', () => {
    const open = window.getComputedStyle(menu).display === 'none';
    menu.style.display = open ? 'block' : 'none';
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    hamb.classList.toggle('hidden');
    closeI.classList.toggle('hidden');
  });
  menu?.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
    menu.style.display = 'none';
    btn.setAttribute('aria-expanded', 'false');
    hamb.classList.remove('hidden');
    closeI.classList.add('hidden');
  }));

  /* ====== Booking Modal / Calendar Logic ====== */
  // Data store (persist across refresh during testing)
  const bookings = JSON.parse(localStorage.getItem('mimi_bookings') || '[]'); 
  // booking: {service, startISO, endISO}

  const serviceCards = document.querySelectorAll('.service-card');
  const modal = document.getElementById('bookingModal');
  const closeModalBtn = document.getElementById('closeModal');
  const modalTitle = document.getElementById('modalTitle');
  const svcSelect = document.getElementById('svcSelect');
  const hoursInput = document.getElementById('hoursInput');
  const calGrid = document.getElementById('calGrid');
  const monthLabel = document.getElementById('monthLabel');
  const prevMonthBtn = document.getElementById('prevMonth');
  const nextMonthBtn = document.getElementById('nextMonth');
  const timeRow = document.getElementById('timeRow');
  const saveBookingBtn = document.getElementById('saveBooking');
  const clearSelectionBtn = document.getElementById('clearSelection');
  const selectedDayLabel = document.getElementById('selectedDayLabel');

  let viewYear, viewMonth; // 0-11
  let selectedDate = null; // Date in current view
  let selectedTime = null; // "HH:MM"

  // Open modal when clicking a service
  serviceCards.forEach(card => {
    card.addEventListener('click', () => {
      const svc = card.dataset.service;
      const defH = parseFloat(card.dataset.defaultHours || '1');
      svcSelect.value = svc;
      hoursInput.value = defH;
      modalTitle.textContent = `Book: ${svc}`;
      openModal();
    });
  });

  function openModal(){
    // set view to current month
    const now = new Date();
    viewYear = now.getFullYear();
    viewMonth = now.getMonth();
    selectedDate = null; selectedTime = null;
    selectedDayLabel.textContent = 'None';
    saveBookingBtn.disabled = true;
    renderCalendar();
    renderTimes();
    modal.style.display = 'flex';
    modal.setAttribute('aria-hidden','false');
  }
  function closeModal(){
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden','true');
  }
  closeModalBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });

  prevMonthBtn.addEventListener('click', ()=>{ changeMonth(-1); });
  nextMonthBtn.addEventListener('click', ()=>{ changeMonth(1); });

  function changeMonth(delta){
    viewMonth += delta;
    if(viewMonth<0){viewMonth=11;viewYear--;}
    if(viewMonth>11){viewMonth=0;viewYear++;}
    selectedDate = null; selectedTime = null;
    selectedDayLabel.textContent = 'None';
    saveBookingBtn.disabled = true;
    renderCalendar();
    renderTimes();
  }

  function renderCalendar(){
    const first = new Date(viewYear, viewMonth, 1);
    const startDay = first.getDay(); // 0 Sun
    const lastDate = new Date(viewYear, viewMonth+1, 0).getDate();
    const prevLastDate = new Date(viewYear, viewMonth, 0).getDate();
    const monthNames = ['January','February','March','April','May','June','July','August','September','October','November','December'];
    monthLabel.textContent = `${monthNames[viewMonth]} ${viewYear}`;

    // Build header row
    const weekdays = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
    calGrid.innerHTML = weekdays.map(d=>`<div class="cal-day">${d}</div>`).join('');

    // 42 cells (6 weeks)
    const cells = [];
    for(let i=0;i<42;i++){
      const dayNum = i - startDay + 1;
      let date, muted=false;
      if(dayNum<1){ date = new Date(viewYear, viewMonth-1, prevLastDate + dayNum); muted=true; }
      else if(dayNum>lastDate){ date = new Date(viewYear, viewMonth+1, dayNum - lastDate); muted=true; }
      else { date = new Date(viewYear, viewMonth, dayNum); }

      const isoDay = date.toISOString().slice(0,10);
      const isBookedDay = dayHasAnyBooking(date);
      const classes = ['cal-cell']; if(muted) classes.push('muted'); if(isBookedDay) classes.push('booked');
      const selected = selectedDate && sameDay(date, selectedDate); if(selected) classes.push('selected');

      cells.push(`<div class="${classes.join(' ')}" data-iso="${isoDay}" data-muted="${muted}">${date.getDate()}</div>`);
    }
    calGrid.insertAdjacentHTML('beforeend', cells.join(''));

    // Add listeners
    calGrid.querySelectorAll('.cal-cell').forEach(cell=>{
      cell.addEventListener('click', ()=>{
        if(cell.dataset.muted === 'true') return; // don't allow picking outside month
        const iso = cell.getAttribute('data-iso');
        const d = new Date(iso + 'T00:00:00');
        selectedDate = d;
        selectedTime = null;
        selectedDayLabel.textContent = d.toDateString();
        saveBookingBtn.disabled = true;
        // refresh selection state
        calGrid.querySelectorAll('.cal-cell').forEach(c=>c.classList.remove('selected'));
        cell.classList.add('selected');
        renderTimes();
      });
    });
  }

  function renderTimes(){
    // Clear slots
    timeRow.innerHTML = '';
    // Generate hour slots 7:00 - 20:00
    const hours = []; for(let h=7; h<=20; h++) hours.push(h);
    const fmt = (h)=> (h<10? '0'+h : ''+h)+':00';
    const isUnavailable = (h) => {
      if(!selectedDate) return true;
      const duration = parseFloat(hoursInput.value || '1'); // in hours
      const start = new Date(selectedDate); start.setHours(h,0,0,0);
      const end = new Date(start); end.setMinutes(end.getMinutes()+ duration*60);

      // apply 1h buffer before and after: so consider protected window [start-60, end+60]
      const protectStart = new Date(start); protectStart.setMinutes(protectStart.getMinutes()-60);
      const protectEnd = new Date(end); protectEnd.setMinutes(protectEnd.getMinutes()+60);

      // within business window?
      if(end.getHours()>21 || start.getHours()<6) return true;

      // check overlap with existing bookings (comparing protected windows)
      return bookings.some(b=>{
        const bs = new Date(b.startISO), be = new Date(b.endISO);
        // Windows cannot overlap: [protectStart, protectEnd] vs [bs, be] expanded by +/-60m as well
        const bsProt = new Date(bs); bsProt.setMinutes(bsProt.getMinutes()-60);
        const beProt = new Date(be); beProt.setMinutes(beProt.getMinutes()+60);
        return protectStart < beProt && protectEnd > bsProt;
      });
    };

    if(!selectedDate){
      timeRow.insertAdjacentHTML('beforeend','<div class="note" style="grid-column:1/-1">Pick a day on the calendar.</div>');
      return;
    }

    hours.forEach(h=>{
      const label = (h%12===0?12:h%12)+':00 '+(h<12?'AM':'PM');
      const disabled = isUnavailable(h);
      const div = document.createElement('button');
      div.type='button';
      div.className='time-slot'+(disabled?' unavailable':'');
      div.textContent = label;
      if(!disabled){
        div.addEventListener('click', ()=>{
          timeRow.querySelectorAll('.time-slot').forEach(t=>t.classList.remove('selected'));
          div.classList.add('selected');
          selectedTime = fmt(h);
          saveBookingBtn.disabled = false;
        });
      }
      timeRow.appendChild(div);
    });
  }

  function dayHasAnyBooking(date){
    // booked OR buffer makes day look "dim"? We'll mark booked days only
    return bookings.some(b => sameDay(new Date(b.startISO), date));
  }
  function sameDay(a,b){ return a.getFullYear()===b.getFullYear() && a.getMonth()===b.getMonth() && a.getDate()===b.getDate(); }

  // Save booking with buffers enforced
  saveBookingBtn.addEventListener('click', ()=>{
    if(!selectedDate || !selectedTime) return;
    const hours = parseFloat(hoursInput.value||'1');
    const start = new Date(selectedDate);
    const [HH,MM]=selectedTime.split(':'); start.setHours(parseInt(HH),parseInt(MM),0,0);
    const end = new Date(start); end.setMinutes(end.getMinutes()+hours*60);

    // final conflict check with 1h buffer before + after both sides
    const protectStart = new Date(start); protectStart.setMinutes(protectStart.getMinutes()-60);
    const protectEnd = new Date(end); protectEnd.setMinutes(protectEnd.getMinutes()+60);

    const conflict = bookings.some(b=>{
      const bs = new Date(b.startISO), be = new Date(b.endISO);
      const bsProt = new Date(bs); bsProt.setMinutes(bsProt.getMinutes()-60);
      const beProt = new Date(be); beProt.setMinutes(beProt.getMinutes()+60);
      return protectStart < beProt && protectEnd > bsProt;
    });
    if(conflict){ alert('That time conflicts with another booking (including travel buffer). Try a different time.'); return; }

    bookings.push({service:svcSelect.value,startISO:start.toISOString(),endISO:end.toISOString()});
    localStorage.setItem('mimi_bookings', JSON.stringify(bookings));
    alert('Added to calendar! This time is now blocked out with a travel buffer before and after.');
    // reset picks
    selectedTime = null; saveBookingBtn.disabled = true;
    renderCalendar(); renderTimes();
  });

  clearSelectionBtn.addEventListener('click', ()=>{
    selectedDate = null; selectedTime = null; saveBookingBtn.disabled = true;
    selectedDayLabel.textContent = 'None';
    renderCalendar(); renderTimes();
  });

  // Init month view in modal once opened
  // (done in openModal)

</script>
</body>
</html>
